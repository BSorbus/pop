<div class="authpanel">
  <div class="panel panel-primary">
    <div class="panel-heading">
      <h3 class="panel-title"><%= t('devise.registrations.form.edit.title') %></h3> <!-- Edit <%#= resource_name.to_s.humanize %> -->
    </div>
    <div class="panel-body">

  <%= form_for(resource, :as => resource_name, :url => registration_path(resource_name), :html => { :method => :put, :role => 'form'}) do |f| %>

    <%#= devise_error_messages! %>

    <% if resource.errors.any? %>
      <div id="error_explanation" class="panel panel-danger">
        <div class="panel-body">
          <ul>
          <% resource.errors.full_messages.each do |msg| %>
            <li><h5><%= msg %></h5></li>
          <% end %>
          </ul>
        </div>
      </div>
    <% end %>

    <div class="form-group">
      <%= f.label :agent_number, class: 'control-label' %>
      <%= f.text_field :agent_number, :autofocus => true, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :name, class: 'control-label' %>
      <%= f.text_field :name, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :address, class: 'control-label' %>
      <%= f.text_area :address, :rows => 3, :cols => 50, class: 'form-control' %>
    </div>
    <div class="form-group">
      <%= f.label :email, class: 'control-label' %>
      <%= f.email_field :email, class: 'form-control' %>
      <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
        <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
      <% end %>
    </div>
    <fieldset>
      <div class="form-group">
        <small class="help-block"><%= t('devise.registrations.form.edit.blank_passwords_text') %></small>
        <%= f.label :password, class: 'control-label' %>
        <%= f.password_field :password, :autocomplete => 'off', class: 'form-control' %>
      </div>
      <div class="form-group">
        <%= f.label :password_confirmation, class: 'control-label' %>
        <%= f.password_field :password_confirmation, class: 'form-control' %>
      </div>
    </fieldset>
    <fieldset>
      <div class="form-group">
        <%= f.label :current_password, class: 'control-label' %>
        <%= f.password_field :current_password, class: 'form-control' %>
        <small class="help-block"><%= t('devise.registrations.form.edit.current_password_needed') %></small>
      </div>
    </fieldset>
    <%= f.submit t('devise.registrations.form.edit.button_submit'), :class => 'btn btn-primary pull-right' %> <!-- Button: 'Update' -->
  <% end %>

    </div>
    <div class="panel-footer">
      <%= button_to "Cancel my account", registration_path(resource_name), :data => { :confirm => "Are you sure?" }, :method => :delete, :class => 'btn btn-danger pull-right' %>
      <br>
      <br>
    </div>
  </div><!-- /panel panel-primary -->
</div><!-- /authpanel -->